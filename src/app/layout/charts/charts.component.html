<div [@routerTransition]>
    <app-page-header [heading]="'Charts'" [icon]="'fa-bar-chart-o'"></app-page-header>
    <div class="row">
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Game wise total sales
                </div>
				<div class="card-body" *ngIf="mychart">
                    <canvas  id="canvas" >{{mychart}}</canvas>
                </div>
				
			<!--	
                <div class="card-body">
                    <canvas baseChart  [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
				-->
                <!-- RKS <div class="card-footer">
                    <button class="btn btn-info btn-sm" (click)="randomize()">Update</button>
                </div>-->
            </div>
        </div>
        <div class="col col-sm-6" >
            <div class="card mb-3">
                <div class="card-header">
					Games Releases by Year : 
					<select [(ngModel)]="selectedYear" (ngModelChange)="onYearSelected($event)" >
						<option *ngFor="let year of years" [value]="year">{{year}}</option>
					</select>
                </div>
                <div class="card-body" style="max-height: 320px;overflow-y: scroll;">
					<table  class="table table-hover table-striped table-sm" >
						<thead  >
						<tr>
							<th>Game Name</th>
							<th style="width:30%;">Release Date</th>
						</tr>
						</thead>
						<tbody>
						<tr *ngFor="let gdata of gamesReleasesData">
							<td>{{gdata.QueryName}}</td>
							<td>{{gdata.ReleaseDate}}</td>
						</tr>
						</tbody>
					</table>
                </div>
            </div>
        </div>
    </div>
	 
    <div class="row">
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                   Games by Age : 
				   <select [(ngModel)]="selectedAge" (ngModelChange)="onAgeSelected($event)" >
						<option *ngFor="let gage of age" [value]="gage">{{gage}}</option>
					</select>
                </div>
                <div class="card-body" style="max-height: 320px;overflow-y: scroll;">
					 
					<table  class="table table-hover table-striped table-sm">
						<thead  >
						<tr>
							<th>Game Name</th>
							<th style="width:30%;">Release Date</th>
						</tr>
						</thead>
						<tbody>
						<tr *ngFor="let gagedata of gamesAgeData">
							<td>{{gagedata.QueryName}}</td>
							<td>{{gagedata.ReleaseDate}}</td>
						</tr>
						</tbody>
					</table>
					
                </div>
            </div>
        </div>
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Pie Chart
                </div>
                <div class="card-body">
                    <canvas baseChart height="150px" [data]="pieChartData" [labels]="pieChartLabels" [chartType]="pieChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                   Games by Genre : 
				   <select [(ngModel)]="selectedGenre" (ngModelChange)="onGenreSelected($event)" >
						<option *ngFor="let ggenre of genre" [value]="ggenre">{{ggenre}}</option>
					</select>
                </div>
                <div class="card-body" style="max-height: 320px;overflow-y: scroll;">
					 
					<table  class="table table-hover table-striped table-sm">
						<thead  >
						<tr>
							<th>Game Name</th>
							<th style="width:30%;">Release Date</th>
						</tr>
						</thead>
						<tbody>
						<tr *ngFor="let genredata of gamesGenreData">
							<td>{{genredata.QueryName}}</td>
							<td>{{genredata.ReleaseDate}}</td>
						</tr>
						</tbody>
					</table>
					
                </div>
            </div>
        </div>
        <div class="col col-sm-6">
            <div class="card mb-3">
                <div class="card-header">
                    Line Chart
                </div>
                <div class="card-body">
                    <canvas baseChart height="130" [datasets]="lineChartData" [labels]="lineChartLabels" [options]="lineChartOptions" [colors]="lineChartColors" [legend]="lineChartLegend" [chartType]="lineChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)">
                    </canvas>
                </div>
            </div>
        </div>
    </div>
</div>
